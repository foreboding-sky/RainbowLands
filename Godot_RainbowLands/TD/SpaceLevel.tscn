[gd_scene load_steps=13 format=2]

[ext_resource path="res://TD/LevelManager.gdns" type="Script" id=1]
[ext_resource path="res://MainMenu/fonts/MainMenuFont.tres" type="DynamicFont" id=2]
[ext_resource path="res://UI/prefabs/LifeBar.tscn" type="PackedScene" id=3]
[ext_resource path="res://UI/prefabs/EmeraldCounter.tscn" type="PackedScene" id=4]
[ext_resource path="res://tilesets/Space/TowerSpots.tres" type="TileSet" id=5]
[ext_resource path="res://tilesets/Space/space_bg.tres" type="TileSet" id=9]
[ext_resource path="res://TD/Towers/TestTileSet.tres" type="TileSet" id=11]
[ext_resource path="res://PauseMenu/PauseMenu.tscn" type="PackedScene" id=12]
[ext_resource path="res://TD/tower.gdns" type="Script" id=13]
[ext_resource path="res://TD/UI.gdns" type="Script" id=14]
[ext_resource path="res://MainMenu/fonts/Counter.tres" type="DynamicFont" id=15]

[sub_resource type="Curve2D" id=1]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 17, 370, 0, 0, 0, 0, 241, 368, 0, 0, 0, 0, 243, 153, 0, 0, 0, 0, 344, 148, 0, 0, 0, 0, 498, 181, 0, 0, 0, 0, 492, 409, 0, 0, 0, 0, 492, 539, 0, 0, 0, 0, 695, 563, 0, 0, 0, 0, 878, 550, 0, 0, 0, 0, 921, 465, 0, 0, 0, 0, 928, 575 )
}

[node name="main" type="Node"]
script = ExtResource( 1 )

[node name="Background" type="TileMap" parent="."]
tile_set = ExtResource( 9 )
cell_size = Vector2( 8, 8 )
format = 1
tile_data = PoolIntArray( 0, 0, 0, 25, 0, 0, 50, 0, 0, 75, 0, 0, 100, 0, 0, 125, 0, 0, 1638400, 0, 0, 1638425, 0, 0, 1638450, 0, 0, 1638475, 0, 0, 1638500, 0, 0, 1638525, 0, 0, 3276800, 0, 0, 3276825, 0, 0, 3276850, 0, 0, 3276875, 0, 0, 3276900, 0, 0, 3276925, 0, 0, 4915200, 0, 0, 4915225, 0, 0, 4915250, 0, 0, 4915275, 0, 0, 4915300, 0, 0, 4915325, 0, 0 )

[node name="Platforms" type="TileMap" parent="."]
tile_set = ExtResource( 5 )
format = 1
tile_data = PoolIntArray( 196612, 9, 0, 196613, 9, 0, 262148, 9, 0, 262149, 9, 0, 327684, 9, 0, 327685, 9, 0, 589896, 0, 0 )

[node name="Misc" type="TileMap" parent="."]
format = 1

[node name="tower_placement" type="TileMap" parent="."]
tile_set = ExtResource( 11 )
cell_quadrant_size = 1
format = 1
tile_data = PoolIntArray( 196612, 2, 0, 196613, 2, 0, 262148, 2, 0, 262149, 2, 0, 327684, 2, 0, 327685, 2, 0 )

[node name="start_position" type="Position2D" parent="."]
position = Vector2( 288, 0 )

[node name="end_position" type="Position2D" parent="."]
position = Vector2( 928, 576 )

[node name="mob_spawn_timer" type="Timer" parent="."]
one_shot = true

[node name="entities" type="YSort" parent="."]

[node name="Path2D" type="Path2D" parent="."]
curve = SubResource( 1 )

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2( 17, 370 )
rotation = -0.00892166

[node name="user_interface" type="Control" parent="."]
margin_right = 40.0
margin_bottom = 40.0
script = ExtResource( 14 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="LifeBar" parent="user_interface" instance=ExtResource( 3 )]
margin_left = 1.11009
margin_top = 545.0
margin_right = 501.11
margin_bottom = 598.0

[node name="level" type="Label" parent="user_interface"]
margin_left = 47.9453
margin_top = 476.468
margin_right = 143.945
margin_bottom = 499.468
custom_fonts/font = ExtResource( 2 )
text = "Level: 0"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="points" type="Label" parent="user_interface"]
visible = false
margin_top = 96.0
margin_right = 64.0
margin_bottom = 128.0
rect_scale = Vector2( 3, 3 )
text = "0"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="lives" type="Label" parent="user_interface"]
margin_top = 192.0
margin_right = 96.0
margin_bottom = 208.0
rect_scale = Vector2( 2, 2 )
text = "Lives: 100"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="EmeraldCounter" parent="user_interface" instance=ExtResource( 4 )]
margin_left = 1.02713
margin_top = -19.2379
margin_right = 101.027
margin_bottom = 60.7621

[node name="gold" type="Label" parent="user_interface"]
margin_left = 16.5969
margin_top = 27.2456
margin_right = 112.597
margin_bottom = 59.2456
custom_fonts/font = ExtResource( 15 )
text = "123"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="tower" type="Button" parent="user_interface"]
margin_left = 51.785
margin_top = 87.5761
margin_right = 127.785
margin_bottom = 116.576
custom_fonts/font = ExtResource( 2 )
text = "Tower"
script = ExtResource( 13 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="next_wave" type="Label" parent="user_interface"]
margin_left = 19.025
margin_top = 400.532
margin_right = 133.025
margin_bottom = 423.532
custom_fonts/font = ExtResource( 2 )
text = "Next Wave:"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="next_wave_time" type="Label" parent="user_interface"]
margin_left = 137.203
margin_top = 402.251
margin_right = 181.203
margin_bottom = 425.251
custom_fonts/font = ExtResource( 2 )
text = "00"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="start_next_wave" type="Button" parent="user_interface"]
margin_left = 29.137
margin_top = 428.633
margin_right = 166.137
margin_bottom = 461.633
custom_fonts/font = ExtResource( 2 )
text = "Start"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="PauseMenu" parent="user_interface" instance=ExtResource( 12 )]

[connection signal="timeout" from="mob_spawn_timer" to="." method="_on_mob_spawn_timer_timeout"]
[connection signal="pressed" from="user_interface/start_next_wave" to="." method="_on_start_next_wave_pressed"]
